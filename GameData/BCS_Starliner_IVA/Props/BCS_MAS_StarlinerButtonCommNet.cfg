PROP
{
  name = BCS_MAS_StarlinerButtonCommNet

  MODEL
  {
    model = BCS_Starliner_IVA/Props/BCS_MAS_StarlinerButton
  }

  SHABBY_MATERIAL_REPLACE
  {
    materialDef = BCS_starliner_IVA_lightsProps_Resurfaced
    targetMaterial = BCS_starliner_IVA_lightsProps
  }

  MODULE
  {
    name = MASComponent

    COLLIDER_EVENT
    {
      name = Button Collider
      collider = ButtonBodyCollider
      sound = ASET/ASET_Props/Sounds/pb_Push02
      volume = 1
      onClick = fc.SetPersistent("%AUTOID%_Toggle", 1 + fc.TogglePersistent("Global_AnnunciatorToggle"))
      onRelease = fc.SetPersistent("%AUTOID%_Toggle", 0)
    }

    TRANSLATION
    {
      name = Button Animation
      transform = ButtonBodyTransform
      startTranslation = 0, 0, 0
      endTranslation = 0, 0, -0.00236
      variable = fc.GetPersistentAsNumber("%AUTOID%_Toggle")
      blend = true
      speed = 10.0
    }

    TEXT_LABEL
    {
      name = Legend
      transform = ButtonTextTransform
      fontSize = 1.8
      lineSpacing = 0.9
      font = Liberation Sans
      style = Bold
      alignment = Center
      anchor = MiddleCenter
      emissive = active
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Backlight") * fc.GetPersistentAsNumber("Global_PanelLightsToggle"))
      activeColor = 255, 255, 255, 255
      passiveColor = 255, 255, 255, 255
      text = Anun
    }

    COLOR_SHIFT
    {
      name = Underline
      transform = TextLineEmissive
      passiveColor = 0, 0, 0, 255
      activeColor = 0, 200, 0, 110
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle"))
      blend = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/2
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 1, 3))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/5
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 4, 6))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/10
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 9, 11))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/20
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 19, 21))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/25
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 24, 26))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/50
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 49, 51))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/100
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 99, 101))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/200
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 199, 201))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/300
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 299, 301))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/400
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 398, 402))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/500
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 498, 502))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/1000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 998, 1002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/1500
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 1498, 1502))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/2000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 1998, 2002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/2500
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 2498, 2502))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/3000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 2998, 3002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/4000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 3998, 4002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/5000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 4998, 5002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/10000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 9998, 10002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/15000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 14998, 15002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/20000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 19998, 20002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/25000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 24998, 25002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/30000
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") * fc.Between(fc.AltitudeBottom(), 29998, 30002))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/GearUp
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.AltitudeBottom() < 500 and fc.VerticalSpeed() < 0 and fc.GetGear() == 0 and fc.VesselLanded() == 0)
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/HighQ
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.DynamicPressure() > 40)
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/HighSlope
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.AltitudeBottom() < 750 and fc.VerticalSpeed() < 0 and fc.BodyTerrainSlope(fc.CurrentBodyIndex(), fc.LandingLatitude(), fc.LandingLongitude()) > 25)
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/OverHeat
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.SafeDivide(fc.HottestPartTemperature(true), fc.HottestPartMaxTemperature(true)) > 0.75)
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/PanelsOut
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.TimeToAtmosphere() > 0 and fc.AtmosphereDepth() == 0 and (fc.RadiatorPosition() > 0 or fc.SolarPanelPosition() > 0))
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/SubOrbital
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.TimeToAtmosphere() > 0 and fc.AtmosphereDepth() > 0)
      mustPlayOnce = true
    }

    AUDIO_PLAYER
    {
      name = Annunciator
      sound = BCS_Starliner_IVA/Sounds/annunciator/Proximity
      volume = fc.GetPersistentAsNumber("Global_AnnunciatorVolume")
      trigger = ON
      variable = fc.Conditioned(fc.GetPersistentAsNumber("Global_AnnunciatorToggle") == 1 and fc.TargetType() == 1 and fc.TargetDistance() < 150)
      mustPlayOnce = true
    }
  }
}