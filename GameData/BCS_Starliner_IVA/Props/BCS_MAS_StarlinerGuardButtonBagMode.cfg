PROP
{
  name = BCS_MAS_StarlinerGuardButtonBagMode

 	MODEL
	{
		model = BCS_Starliner_IVA/Props/BCS_MAS_StarlinerGuardButton
	}

  SHABBY_MATERIAL_REPLACE
  {
    materialDef = BCS_starliner_IVA_lightsProps_Resurfaced
    targetMaterial = BCS_starliner_IVA_lightsProps
  }

  SHABBY_MATERIAL_REPLACE
  {
    materialDef = BCS_starliner_IVA_lightsProps_transp_Resurfaced
    targetMaterial = BCS_starliner_IVA_lightsProps_transp
  }

	MODULE
	{
		name = MASComponent

		COLLIDER_EVENT
		{
			name = Cover Collider
			collider = GuardBodyCollider
			sound = ASET/ASET_Props/Sounds/pb_Cover02
			volume = 1
			onClick = fc.TogglePersistent("%AUTOID%_Cover")
		}

    ROTATION
    {
	    name = Cover Animation
	    transform = GuardBodyTransform
	    startRotation = 0, 0, 0
	    endRotation = -110, 0, 0
	    variable = fc.GetPersistentAsNumber("%AUTOID%_Cover")
	    range = 0.0, 1.0
	    blend = true
	    speed = 10.0
    }

		COLLIDER_EVENT
		{
			name = Button Collider
			collider = ButtonBodyCollider
			sound = ASET/ASET_Props/Sounds/pb_Push02
			volume = 1
			onClick = fc.SetPersistent("%AUTOID%_Toggle", 1)
			onRelease = fc.SetPersistent("%AUTOID%_Toggle", 0)
			variable = fc.GetPersistentAsNumber("%AUTOID%_Cover")
		}

    TRANSLATION
    {
	    name = Button Animation
	    transform = ButtonBodyTransform
	    startTranslation = 0, 0, 0
	    endTranslation = 0, 0, -0.00236
	    variable = fc.GetPersistentAsNumber("%AUTOID%_Toggle")
	    blend = true
	    speed = 10.0
    }

		TEXT_LABEL
		{
			name = Legend
			transform = ButtonTextTransform
			fontSize = 2.0
			lineSpacing = 0.9
			font = Liberation Sans
			style = Bold
			alignment = Center
			anchor = MiddleCenter
			emissive = active
			variable = fc.Conditioned(fc.GetPersistentAsNumber("%AUTOID%_Toggle"))
			blend = true
			activeColor = 0, 200, 0, 255
			passiveColor = 150, 150, 150, 255
			text = OK
		}

    COLOR_SHIFT
    {
      name = Underline
      transform = TextLineEmissive
      passiveColor = 0, 0, 0, 255
      activeColor = 0, 200, 0, 110
      variable = fc.Conditioned(fc.GetPersistentAsNumber("%AUTOID%_Toggle"))
      blend = true
    }
	}
}