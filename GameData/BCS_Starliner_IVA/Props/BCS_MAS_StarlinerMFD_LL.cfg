PROP
{
	name = BCS_MAS_StarlinerMFD_LL

	MODEL
	{
		model = BCS_Starliner_IVA/Props/BCS_MAS_StarlinerMFD_LL
	}

	MODULE
	{
		name = MASMonitor

		screenTransform = MFD_LL
		layer = _Emissive
		screenSize = 1280, 832
		fontSize = 16, 32
		font = InconsolataGo
		style = Bold
		textColor = 255, 255, 255, 255
		backgroundColor = 0, 0, 1, 255
		monitorID = MFD_LL

		page = MAS_BCS_Empty
		page = MAS_BCS_IntroPageLL
		page = MAS_BCS_SystemsPageLL
		page = MAS_BCS_AscentPageLL
		page = MAS_BCS_PlannerPageLL
		page = MAS_BCS_SciencePageLL
    page = MAS_BCS_ESSTacPageLL
    page = MAS_BCS_ESSKerbalismPageLL
    page = MAS_BCS_ISRUPageLL
	}

	MODULE
	{
		name = MASComponent

		COLOR_SHIFT
		{
			name = Monitor Power
			transform = MFD_LL
			passiveColor = 0, 0, 0, 255
			activeColor = 255, 255, 255, 255
			blend = true
			variable = fc.Max(fc.GetPersistentAsNumber("Global_ScreenBrightness_Left"), 0.1) * fc.GetPersistentAsNumber("Global_MnABatt") * fc.GetPersistentAsNumber("Global_DMC1")
		}

    TRIGGER_EVENT
    {
	    name = Power Page
	    event = fc.SetPersistent("MFD_LL", "MAS_BCS_IntroPageLL")
	    exitEvent = fc.SetPersistent("MFD_LL", "MAS_BCS_Empty")
	    variable = fc.GetPersistentAsNumber("MAS_Battery_State")
    }

    TRIGGER_EVENT
    {
	    name = Auto Repeat Enter
	    event = BCS_PlannerActionHandler()
	    variable = fc.GetPersistentAsNumber("%AUTOID%_RepeatCounter") == 1 and fc.Between(fc.GetPersistentAsNumber("Global_MFDLLSelectedPlannerAction"), 6, 8) == 1
      autoRepeat = true
    }

    TRIGGER_EVENT
    {
	    name = Repeat Trigger
	    event = fc.AddPersistentClamped("%AUTOID%_RepeatCounter", 0.05, 0, 1)
	    exitEvent = fc.SetPersistent("%AUTOID%_RepeatCounter", 0)
	    variable = fc.GetPersistentAsNumber("Global_KeyPadToggleEnter")
	    autoRepeat = true
    }

    TRIGGER_EVENT
    {
      name = Animator
      event = fc.AddPersistentWrapped("%AUTOID%_DrillUVAnimator", fc.Remap(fc.DrillThermalEfficiency(), 0, 1, 0.005, 0.03), 0, 1)
      variable = fc.DrillActiveCount() > 0
      autoRepeat = true
    }
	}
}