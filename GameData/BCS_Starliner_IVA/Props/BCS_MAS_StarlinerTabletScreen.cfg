PROP
{
  name = BCS_MAS_StarlinerTabletScreen

  MODEL
  {
    model = BCS_Starliner_IVA/Props/BCS_MAS_StarlinerTabletScreen
  }

  MODULE
  {
    name = MASMonitor

    screenTransform = TabletScreenObject
    layer = _Emissive
    screenSize = 800, 1216
    fontSize = 16, 32
    font = Liberation Sans
    style = Bold
    textColor = 255, 255, 255, 255
    backgroundColor = 0, 0, 1, 255
    monitorID = Tablet

    page = MAS_BCS_TabletLockScreen
    page = MAS_BCS_TabletMain
    page = MAS_BCS_TabletKOS
    page = MAS_BCS_TabletVV
    page = MAS_BCS_TabletScanSat
    page = MAS_BCS_TabletKAC
  }

  MODULE
  {
    name = MASComponent

    COLLIDER_ADVANCED
    {
      name = Collider
      collider = TabletScreenObject
      monitorID = Tablet
      clickX = 800 - (%Y% * 800)
      clickY = %X% * 1216
      variable = fc.GetPersistentAsNumber("Global_MnABatt")
    }

    COLLIDER_EVENT
    {
      name = Button
      collider = ButtonCollider
      onClick = fc.SendSoftkey("Tablet", 100)
    }

    COLOR_SHIFT
    {
      name = Screen Power
      transform = TabletScreenObject
      passiveColor = 0, 0, 0, 255
      activeColor = 255, 255, 255, 255
      blend = true
      variable = fc.GetPersistentAsNumber("Global_MnABatt")
    }

    AUDIO_PLAYER
    {
      sound = ASET/ASET_Props/Sounds/AlarmBeep01
      trigger = ON
      variable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.GetPersistentAsNumber("Global_MnABatt") == 1
    }

    AUDIO_PLAYER
    {
      sound = ASET/ASET_Props/Sounds/beep_E_short_x1
      trigger = ON
      variable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 15 and fc.GetPersistentAsNumber("Global_MnABatt") == 1
    }

    TRIGGER_EVENT
    {
      name = Kill Warp
      event = fc.CancelTimeWarp(true)
      variable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 65 and fc.GetPersistentAsNumber("Global_KACCancelWarp") == 1 and fc.GetPersistentAsNumber("Global_MnABatt") == 1
    }
  }
}

@PROP[BCS_MAS_StarlinerTabletScreen]:NEEDS[kOSPropMonitor&AvionicsSystems]
{
  MODULE
  {
    name = kOSMonitor
    template = BCS_Starliner_IVA/Scripts/terminal40x20Black.txt
    buttonEmptyLabel = LABEL
    flagEmptyLabel = FLAG
    keyboardActiveLabel = KB
    consoleWidth = 100
    consoleHeight = 23
    textTint = [#ffffffff]
    coloredTextTint = [#ffffffff]
    textTintColored = [#ffffffff]
    textTintUnpowered = [#aaaaaa3e]
    keyboardActiveTint = [#ffffffff]
    keyboardInactiveTint = [#808080ff]
  }
}

@PROP[BCS_MAS_StarlinerTabletScreen]:NEEDS[VesselViewRPM&AvionicsSystems]
{
  MODULE
  {
    name = InternalVesselView
    buttonUp = 0
    buttonDown = 1
    buttonEnter = 2
    buttonEsc = 3
    buttonHome = 4
  }
}

@PROP[BCS_MAS_StarlinerTabletScreen]:NEEDS[SCANsat&AvionicsSystems]
{
  MODULE
  {
    name = JSISCANsatRPM
    buttonUp = 0
    buttonDown = 1
    buttonEnter = 2
    buttonEsc = 3
    buttonHome = 4
    buttonRight = 5
    buttonLeft = 6
    buttonR9 = 7
    buttonR10 = 8
    mapDivider = 2
    resourceInterpolation = 4
    zoomModifier = 2.0
    iconPixelSize = 32
    iconShadowShift = 2,2
    scaleBarPosition = 16,144
    scaleBar = ASET/ASET_Props/MFDs/scalebar
    scaleLabels = ASET/ASET_Props/MFDs/scaleLabels
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletLockScreen
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  hitbox
  {
    name = Unlock
    position = 0, 0
    size = 800, 1216
    onClick = fc.SetPersistent("Tablet", "MAS_BCS_TabletMain")
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 130

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  TEXT
  {
    name = Time
    style = Normal
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 17.0625, 14
    fontSize = 48, 96
  }

  TEXT
  {
    name = Unlock
    textColor = COLOR_MFD2_TEXT
    text = Tap to unlock
    position = 18.5, 18
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletMain
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  softkey = 100, fc.SetPersistent("Tablet", "MAS_BCS_TabletLockScreen")

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG3
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 130

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/topBar
    position = 0, 0
    size = 800, 64
  }

  TEXT
  {
    name = Time
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 44, 0.5
    fontSize = 16, 32
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/signal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = fc.CommNetConnected()
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/nosignal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = 1 - fc.CommNetConnected()
  }

  IMAGE
  {
    name = Alarm
    texture = BCS_Starliner_IVA/Images/AlarmIcon
    passiveColor = 255, 255, 255, 255
	  activeColor = 255, 60, 60, 255
	  colorVariable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.PeriodStep(2)
	  colorRange = 0, 1
	  colorBlend = true
    position = 64, 16
    size = 32, 32
    variable = kac.AlarmCount() > 0
  }

  hitbox
  {
    name = Icon1
    position = 104, 172
    size = 128, 128
    onClick = fc.SetPersistent("Tablet", "MAS_BCS_TabletKOS")
  }

  IMAGE
  {
    name = Icon1
    texture = BCS_Starliner_IVA/Images/KOSIcon
    passiveColor = 255, 255, 255, 255
    position = 104, 172
    size = 128, 128
  }

  TEXT
  {
    name = Icon1
    textColor = COLOR_MFD2_TEXT
    text = KOS
    position = 9, 9.4009375
    fontSize = 16, 32
  }

  hitbox
  {
    name = Icon2
    position = 568, 172
    size = 128, 128
    onClick = fc.SetPersistent("Tablet", "MAS_BCS_TabletVV")
  }

  IMAGE
  {
    name = Icon2
    texture = BCS_Starliner_IVA/Images/VVIcon
    passiveColor = 255, 255, 255, 255
    position = 568, 172
    size = 128, 128
  }

  TEXT
  {
    name = Icon2
    textColor = COLOR_MFD2_TEXT
    text = V.View
    position = 36.5, 9.4009375
    fontSize = 16, 32
  }

  hitbox
  {
    name = Icon3
    position = 104, 380
    size = 128, 128
    onClick = fc.SetPersistent("Tablet", "MAS_BCS_TabletScanSat")
  }

  IMAGE
  {
    name = Icon3
    texture = BCS_Starliner_IVA/Images/ScanSatIcon
    passiveColor = 255, 255, 255, 255
    position = 104, 380
    size = 128, 128
  }

  TEXT
  {
    name = Icon3
    textColor = COLOR_MFD2_TEXT
    text = ScanSat
    position = 7, 15.875
    fontSize = 16, 32
  }

  hitbox
  {
    name = Icon4
    position = 568, 380
    size = 128, 128
    onClick = fc.SetPersistent("Tablet", "MAS_BCS_TabletKAC")
  }

  IMAGE
  {
    name = Icon4
    texture = BCS_Starliner_IVA/Images/KACIcon
    passiveColor = 255, 255, 255, 255
    position = 568, 380
    size = 128, 128
  }

  TEXT
  {
    name = Icon4
    textColor = COLOR_MFD2_TEXT
    text = KAC
    position = 38, 15.875
    fontSize = 16, 32
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletKOS
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  softkey = 100, fc.SetPersistent("Tablet", "MAS_BCS_TabletMain")

  hitbox
  {
    name = KB
    position = 0, 0
    size = 800, 64
    onClick = fc.SendSoftkey("Tablet", 4)
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG3
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 175

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/topBar
    position = 0, 0
    size = 800, 64
  }

  TEXT
  {
    name = Time
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 44, 0.5
    fontSize = 16, 32
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/signal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = fc.CommNetConnected()
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/nosignal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = 1 - fc.CommNetConnected()
  }

  IMAGE
  {
    name = Alarm
    texture = BCS_Starliner_IVA/Images/AlarmIcon
    passiveColor = 255, 255, 255, 255
	  activeColor = 255, 60, 60, 255
	  colorVariable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.PeriodStep(2)
	  colorRange = 0, 1
	  colorBlend = true
    position = 64, 16
    size = 32, 32
    variable = kac.AlarmCount() > 0
  }

  RPM_MODULE
  {
    name = kOS Prop Monitor
    moduleName = kOSMonitor
    buttonClickMethod = ButtonProcessor
    position = 0, 32
    size = 800, 800
    variable = fc.AssemblyLoaded("kOSPropMonitor")
  }

  TEXT
  {
    position = 0, 1
    textColor = COLOR_MFD2_TEXT
    name = kOS Prop Monitor Content
    textmethod = kOSMonitor:ContentProcessor
  }

  TEXT
  {
    name = Missing Assembly
    textColor = COLOR_MFD2_TEXT
    text = kPM Not Detected
    position = 17, 19

    variable = 1 - fc.AssemblyLoaded("kOSPropMonitor")
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 800
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }

  hitbox
  {
    name = Button
    position = 0, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk0", 1 + fc.SendSoftkey("Tablet", 0))
    onRelease = fc.SetPersistent("%AUTOID%_Sk0", 0)
  }

  POLYGON
  {
    name = BG
    position = 0, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk0")
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  hitbox
  {
    name = Button
    position = 133.3333333333, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk1", 1 + fc.SendSoftkey("Tablet", 1))
    onRelease = fc.SetPersistent("%AUTOID%_Sk1", 0)
  }

  POLYGON
  {
    name = BG
    position = 133.3333333333, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk1")
  }

  hitbox
  {
    name = Button
    position = 266.6666666666, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk2", 1 + fc.SendSoftkey("Tablet", 6))
    onRelease = fc.SetPersistent("%AUTOID%_Sk2", 0)
  }

  POLYGON
  {
    name = BG
    position = 266.6666666666, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk2")
  }

  hitbox
  {
    name = Button
    position = 399.9999999999, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk3", 1 + fc.SendSoftkey("Tablet", 5))
    onRelease = fc.SetPersistent("%AUTOID%_Sk3", 0)
  }

  POLYGON
  {
    name = BG
    position = 399.9999999999, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk3")
  }

  hitbox
  {
    name = Button
    position = 533.3333333332, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk4", 1 + fc.SendSoftkey("Tablet", 2))
    onRelease = fc.SetPersistent("%AUTOID%_Sk4", 0)
  }

  POLYGON
  {
    name = BG
    position = 533.3333333332, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk4")
  }

  //Lower Buttons
  POLYGON
  {
    name = BG
    position = 0, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk6")
  }

  hitbox
  {
    name = Button
    position = 0, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk6", 1 + fc.SendSoftkey("Tablet", 10))
    onRelease = fc.SetPersistent("%AUTOID%_Sk6", 0)
  }

  POLYGON
  {
    name = BG
    position = 114.2857142, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk7")
  }

  hitbox
  {
    name = Button
    position = 114.2857142, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk7", 1 + fc.SendSoftkey("Tablet", 11))
    onRelease = fc.SetPersistent("%AUTOID%_Sk7", 0)
  }

  POLYGON
  {
    name = BG
    position = 228.5714284, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk8")
  }

  hitbox
  {
    name = Button
    position = 228.5714284, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk8", 1 + fc.SendSoftkey("Tablet", 12))
    onRelease = fc.SetPersistent("%AUTOID%_Sk8", 0)
  }

  POLYGON
  {
    name = BG
    position = 342.8571426, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk9")
  }

  hitbox
  {
    name = Button
    position = 342.8571426, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk9", 1 + fc.SendSoftkey("Tablet", 13))
    onRelease = fc.SetPersistent("%AUTOID%_Sk9", 0)
  }

  POLYGON
  {
    name = BG
    position = 457.1428568, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk10")
  }

  hitbox
  {
    name = Button
    position = 457.1428568, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk10", 1 + fc.SendSoftkey("Tablet", 14))
    onRelease = fc.SetPersistent("%AUTOID%_Sk10", 0)
  }

  POLYGON
  {
    name = BG
    position = 571.428571, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk11")
  }

  hitbox
  {
    name = Button
    position = 571.428571, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk11", 1 + fc.SendSoftkey("Tablet", 15))
    onRelease = fc.SetPersistent("%AUTOID%_Sk11", 0)
  }

  POLYGON
  {
    name = BG
    position = 685.7142852, 736
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk12")
  }

  hitbox
  {
    name = Button
    position = 685.7142852, 736
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk12", 1 + fc.SendSoftkey("Tablet", 16))
    onRelease = fc.SetPersistent("%AUTOID%_Sk12", 0)
  }
  //Upper Buttons
  POLYGON
  {
    name = BG
    position = 0, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk13")
  }

  hitbox
  {
    name = Button
    position = 0, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk13", 1 + fc.SendSoftkey("Tablet", 17))
    onRelease = fc.SetPersistent("%AUTOID%_Sk13", 0)
  }

  POLYGON
  {
    name = BG
    position = 114.2857142, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk14")
  }

  hitbox
  {
    name = Button
    position = 114.2857142, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk14", 1 + fc.SendSoftkey("Tablet", 18))
    onRelease = fc.SetPersistent("%AUTOID%_Sk14", 0)
  }

  POLYGON
  {
    name = BG
    position = 228.5714284, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk15")
  }

  hitbox
  {
    name = Button
    position = 228.5714284, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk15", 1 + fc.SendSoftkey("Tablet", 19))
    onRelease = fc.SetPersistent("%AUTOID%_Sk15", 0)
  }

  POLYGON
  {
    name = BG
    position = 342.8571426, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk16")
  }

  hitbox
  {
    name = Button
    position = 342.8571426, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk16", 1 + fc.SendSoftkey("Tablet", 20))
    onRelease = fc.SetPersistent("%AUTOID%_Sk16", 0)
  }

  POLYGON
  {
    name = BG
    position = 457.1428568, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk17")
  }

  hitbox
  {
    name = Button
    position = 457.1428568, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk17", 1 + fc.SendSoftkey("Tablet", 21))
    onRelease = fc.SetPersistent("%AUTOID%_Sk17", 0)
  }

  POLYGON
  {
    name = BG
    position = 571.428571, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk18")
  }

  hitbox
  {
    name = Button
    position = 571.428571, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk18", 1 + fc.SendSoftkey("Tablet", 22))
    onRelease = fc.SetPersistent("%AUTOID%_Sk18", 0)
  }

  POLYGON
  {
    name = BG
    position = 685.7142852, 64
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 64
    vertex = 114.2857142, 64
    vertex = 114.2857142, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk19")
  }

  hitbox
  {
    name = Button
    position = 685.7142852, 64
    size = 114.2857142, 64
    onClick = fc.SetPersistent("%AUTOID%_Sk19", 1 + fc.SendSoftkey("Tablet", 23))
    onRelease = fc.SetPersistent("%AUTOID%_Sk19", 0)
  }

  hitbox
  {
    name = Button
    position = 666.6666666665, 1108
    size = 133.3333333333, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk5", 1 + fc.SendSoftkey("Tablet", 3))
    onRelease = fc.SetPersistent("%AUTOID%_Sk5", 0)
  }

  POLYGON
  {
    name = BG
    position = 666.6666666665, 1108
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 133.3333333333, 108
    vertex = 133.3333333333, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk5")
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333*2, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333*3, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333*4, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333*5, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 133.3333333333*6, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1108
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1216
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }

  hitbox
  {
    name = Button
    position = 0, 1000
    size = 266.666666666666, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk20", 1 + fc.SendSoftkey("Tablet", 7))
    onRelease = fc.SetPersistent("%AUTOID%_Sk20", 0)
  }

  POLYGON
  {
    name = BG
    position = 0, 1000
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 266.666666666666, 108
    vertex = 266.666666666666, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk20")
  }

  hitbox
  {
    name = Button
    position = 266.666666666666, 1000
    size = 266.666666666666, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk21", 1 + fc.SendSoftkey("Tablet", 8))
    onRelease = fc.SetPersistent("%AUTOID%_Sk21", 0)
  }

  POLYGON
  {
    name = BG
    position = 266.666666666666, 1000
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 266.666666666666, 108
    vertex = 266.666666666666, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk21")
  }

  hitbox
  {
    name = Button
    position = 533.333333333332, 1000
    size = 266.666666666666, 108
    onClick = fc.SetPersistent("%AUTOID%_Sk22", 1 + fc.SendSoftkey("Tablet", 9))
    onRelease = fc.SetPersistent("%AUTOID%_Sk22", 0)
  }

  POLYGON
  {
    name = BG
    position = 533.333333333332, 1000
    color = 255, 255, 255, 110

    vertex = 0, 0
    vertex = 0, 108
    vertex = 266.666666666666, 108
    vertex = 266.666666666666, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_Sk22")
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1000
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1000
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 266.666666666666, 1000
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 266.666666666666*2, 1000
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  LINE_STRING
  {
    name = Separator
    position = 266.666666666666*3, 1000
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 108
  }

  IMAGE
  {
    name = Buttons
    texture = BCS_Starliner_IVA/Images/KOSLowerButtons
    passiveColor = COLOR_MFD2_TEXT
    position = 0, 1108
    size = 800, 108
  }

  IMAGE
  {
    name = Buttons
    texture = BCS_Starliner_IVA/Images/KOSUpperButtons
    passiveColor = COLOR_MFD2_TEXT
    position = 0, 1000
    size = 800, 108
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletVV
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  softkey = 100, fc.SetPersistent("Tablet", "MAS_BCS_TabletMain")

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG3
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 175

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/topBar
    position = 0, 0
    size = 800, 64
  }

  TEXT
  {
    name = Time
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 44, 0.5
    fontSize = 16, 32
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/signal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = fc.CommNetConnected()
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/nosignal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = 1 - fc.CommNetConnected()
  }

  IMAGE
  {
    name = Alarm
    texture = BCS_Starliner_IVA/Images/AlarmIcon
    passiveColor = 255, 255, 255, 255
	  activeColor = 255, 60, 60, 255
	  colorVariable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.PeriodStep(2)
	  colorRange = 0, 1
	  colorBlend = true
    position = 64, 16
    size = 32, 32
    variable = kac.AlarmCount() > 0
  }

  RPM_MODULE
  {
    name = Vessel Viewer

    moduleName = InternalVesselView

    renderMethod = RenderViewer
    buttonClickMethod = ButtonProcessor
    pageActiveMethod = PageActive

    position = 0, 64
    size = 800, 1152

    variable = fc.AssemblyLoaded("VesselViewRPM")
  }

  hitbox
  {
    name = Up
    position = 744, 1088
    size = 32, 32
    onClick = fc.SendSoftkey("Tablet", 0)
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  hitbox
  {
    name = Down
    position = 744, 1152
    size = 32, 32
    onClick = fc.SendSoftkey("Tablet", 1)
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  hitbox
  {
    name = Left
    position = 728, 1120
    size = 32, 32
    onClick = fc.SendSoftkey("Tablet", 3)
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  hitbox
  {
    name = Right
    position = 760, 1120
    size = 32, 32
    onClick = fc.SendSoftkey("Tablet", 2)
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  TEXT
  {
    name = Controls Up
    position = 47, 34
    font = InconsolataGo
    textColor = COLOR_MFD2_TEXT
    text = ^
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  TEXT
  {
    name = Controls Left Right
    position = 46, 35
    font = InconsolataGo
    textColor = COLOR_MFD2_TEXT
    text = < >
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  TEXT
  {
    name = Controls Down
    position = 47, 36
    font = InconsolataGo
    textColor = COLOR_MFD2_TEXT
    text = v
    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  POLYGON
  {
    name = BG
    position = 16, 1152
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 32
    vertex = 64, 32
    vertex = 64, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_VVMenu")
  }

  hitbox
  {
    name = Hitbox
    position = 16, 1152
    size = 64, 32
    onClick = fc.TogglePersistent("%AUTOID%_VVMenu")
  }

  TEXT
  {
    name = Menu
    position = 1, 36
    textColor = COLOR_MFD2_TEXT
    text = MENU
  }

  TEXT
  {
    name = Vessel Viewer Text

    position = 0, 2
    textmethod = InternalVesselView:ShowMenu
    fontSize = 16, 32
    textColor = COLOR_MFD2_TEXT
    variable = fc.AssemblyLoaded("VesselViewRPM") == 1 and fc.GetPersistentAsNumber("%AUTOID%_VVMenu") == 1
  }

  TEXT
  {
    name = Missing VesselViewerRPM
    textColor = COLOR_MFD2_TEXT
    text = Vessel Viewer not installed
    position = 13.5, 20.5

    variable = 1 - fc.AssemblyLoaded("VesselViewRPM")
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletScanSat
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  softkey = 100, fc.SetPersistent("Tablet", "MAS_BCS_TabletMain")

  //public int buttonUp = 0;
  //public int buttonDown = 1;
  //public int buttonEnter = 2;
  //public int buttonEsc = 3;
  //public int buttonHome = 4;
  //public int buttonRight = 5;
  //public int buttonLeft = 6;
  //public int buttonR9 = 7;
  //public int buttonR10 = 8;

  //up = zoom out
  //down = zoom in
  //enter = change map mode
  //esc = redraw map
  //home = show lines
  //right = change resource overlays
  //left = draw anomalies
  //r9 = show resource
  //r10 = hide resource

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG3
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 175

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/topBar
    position = 0, 0
    size = 800, 64
  }

  TEXT
  {
    name = Time
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 44, 0.5
    fontSize = 16, 32
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/signal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = fc.CommNetConnected()
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/nosignal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = 1 - fc.CommNetConnected()
  }

  IMAGE
  {
    name = Alarm
    texture = BCS_Starliner_IVA/Images/AlarmIcon
    passiveColor = 255, 255, 255, 255
	  activeColor = 255, 60, 60, 255
	  colorVariable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.PeriodStep(2)
	  colorRange = 0, 1
	  colorBlend = true
    position = 64, 16
    size = 32, 32
    variable = kac.AlarmCount() > 0
  }

  RPM_MODULE
  {
    name = SCANsat display

    moduleName = JSISCANsatRPM

    renderMethod = MapRenderer
    buttonClickMethod = ButtonProcessor
    pageActiveMethod = PageActive

    texture = ASET/ASET_Props/MFDs/ScreenPlates/noscansat

    position = 0, 64
    size = 800, 1063.112

    variable = fc.AssemblyLoaded("SCANsat")
  }

  POLYGON
  {
    name = BG0
    position = 0, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS0")
  }

  hitbox
  {
    name = Hitbox0
    position = 0, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS0", 1 + fc.SendSoftkey("Tablet", 0))
    onRelease = fc.SetPersistent("%AUTOID%_SS0", 0)
  }

  POLYGON
  {
    name = BG1
    position = 88.888, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS1")
  }

  hitbox
  {
    name = Hitbox1
    position = 88.888, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS1", 1 + fc.SendSoftkey("Tablet", 1))
    onRelease = fc.SetPersistent("%AUTOID%_SS1", 0)
  }

  POLYGON
  {
    name = BG2
    position = 177.776, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS2")
  }

  hitbox
  {
    name = Hitbox2
    position = 177.776, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS2", 1 + fc.SendSoftkey("Tablet", 2))
    onRelease = fc.SetPersistent("%AUTOID%_SS2", 0)
  }

  POLYGON
  {
    name = BG3
    position = 266.664, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS3")
  }

  hitbox
  {
    name = Hitbox3
    position = 266.664, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS3", 1 + fc.SendSoftkey("Tablet", 3))
    onRelease = fc.SetPersistent("%AUTOID%_SS3", 0)
  }

  POLYGON
  {
    name = BG4
    position = 355.552, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS4")
  }

  hitbox
  {
    name = Hitbox4
    position = 355.552, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS4", 1 + fc.SendSoftkey("Tablet", 4))
    onRelease = fc.SetPersistent("%AUTOID%_SS4", 0)
  }

  POLYGON
  {
    name = BG5
    position = 444.44, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS5")
  }

  hitbox
  {
    name = Hitbox5
    position = 444.44, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS5", 1 + fc.SendSoftkey("Tablet", 5))
    onRelease = fc.SetPersistent("%AUTOID%_SS5", 0)
  }

  POLYGON
  {
    name = BG6
    position = 533.328, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS6")
  }

  hitbox
  {
    name = Hitbox6
    position = 533.328, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS6", 1 + fc.SendSoftkey("Tablet", 6))
    onRelease = fc.SetPersistent("%AUTOID%_SS6", 0)
  }

  POLYGON
  {
    name = BG7
    position = 622.216, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS7")
  }

  hitbox
  {
    name = Hitbox7
    position = 622.216, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS7", 1 + fc.SendSoftkey("Tablet", 7))
    onRelease = fc.SetPersistent("%AUTOID%_SS7", 0)
  }

  POLYGON
  {
    name = BG8
    position = 711.104, 1127.111
    color = 255, 255, 255, 80

    vertex = 0, 0
    vertex = 0, 88.888
    vertex = 88.888, 88.888
    vertex = 88.888, 0

    variable = fc.GetPersistentAsNumber("%AUTOID%_SS8")
  }

  hitbox
  {
    name = Hitbox8
    position = 711.104, 1127.111
    size = 88.888, 88.888
    onClick = fc.SetPersistent("%AUTOID%_SS8", 1 + fc.SendSoftkey("Tablet", 8))
    onRelease = fc.SetPersistent("%AUTOID%_SS8", 0)
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*2, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*3, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*4, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*5, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*6, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*7, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*8, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*9, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }

  LINE_STRING
  {
    name = Separator
    position = 88.88888888888889*10, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 0, 88.88888888888889
  }
  //44.444444444444445
  LINE_STRING
  {
    name = Separator
    position = 0, 1127.11111111111111
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }

  LINE_STRING
  {
    name = Separator
    position = 0, 1280
    startColor = COLOR_MFD2_TEXT
    startWidth = 4

    vertex = 0, 0
    vertex = 800, 0
  }
  //5.5555555555555554375
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Z-
    position = 1.777777777777778, 36.11111111111111109375
    fontSize = 16, 32
  }
  //8.3333333333333334375
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Z+
    position = 7.3333333333333334375, 36.11111111111111109375
    fontSize = 16, 32
  }
  //13.888888888888888875
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Mode
    position = 11.888888888888888875, 36.11111111111111109375
    fontSize = 16, 32
  }
  //19.4444444444444443125
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = CoBw
    position = 17.4444444444444443125, 36.11111111111111109375
    fontSize = 16, 32
  }
  //24.99999999999999975
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Line
    position = 22.99999999999999975, 36.11111111111111109375
    fontSize = 16, 32
  }
  //30.5555555555555551875
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = RscT
    position = 28.5555555555555551875, 36.11111111111111109375
    fontSize = 16, 32
  }
  //36.111111111111110625
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Anom
    position = 34.111111111111110625, 36.11111111111111109375
    fontSize = 16, 32
  }
  //41.6666666666666660625
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Rsc+
    position = 39.6666666666666660625, 36.11111111111111109375
    fontSize = 16, 32
  }
  //47.2222222222222215
  TEXT
  {
    name = Time
    textColor = COLOR_MFD2_TEXT
    text = Rsc-
    position = 45.2222222222222215, 36.11111111111111109375
    fontSize = 16, 32
  }

  TEXT
  {
    name = No SCANsat
    position = 14.5, 20.5
    textColor = COLOR_MFD2_TEXT
    text = SCANsat not installed
    variable = 1 - fc.AssemblyLoaded("SCANsat")
  }
}

MAS_PAGE
{
  name = MAS_BCS_TabletKAC
  onExit = fc.PlayAudio("M2X_Angler_IVA/Sounds/Unlock", 1.0, true)

  softkey = 100, fc.SetPersistent("Tablet", "MAS_BCS_TabletMain")

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/BG3
    position = 0, 0
    size = 800, 1216
  }

  POLYGON
  {
    name = BG
    position = 0, 0
    color = 0, 0, 0, 175

    vertex = 0, 0
    vertex = 0, 1216
    vertex = 800, 1216
    vertex = 800, 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/topBar
    position = 0, 0
    size = 800, 64
  }

  TEXT
  {
    name = Time
    textColor = 255, 255, 255, 255
    text = <=0:METH:mm=> $#$ fc.TimeOfDay(fc.UT())
    position = 44, 0.5
    fontSize = 16, 32
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/signal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = fc.CommNetConnected()
  }

  IMAGE
  {
    name = Signal
    texture = BCS_Starliner_IVA/Images/nosignal
    passiveColor = 255, 255, 255, 255
    position = 16, 16
    size = 32, 32
    variable = 1 - fc.CommNetConnected()
  }

  IMAGE
  {
    name = Alarm
    texture = BCS_Starliner_IVA/Images/AlarmIcon
    passiveColor = 255, 255, 255, 255
	  activeColor = 255, 60, 60, 255
	  colorVariable = kac.TimeToAlarm() > 0 and kac.TimeToAlarm() < 60 and fc.PeriodStep(2)
	  colorRange = 0, 1
	  colorBlend = true
    position = 64, 16
    size = 32, 32
    variable = kac.AlarmCount() > 0
  }

  IMAGE
  {
    name = BG
    texture = BCS_Starliner_IVA/Images/KACField
    passiveColor = 255, 255, 255, 255
    position = 126, 324
    size = 547, 102
  }

  hitbox
  {
    name = Day Plus
    position = 155.28, 277.69
    size = 96, 64
    onClick = fc.AddPersistentWrapped("Global_KACDays", 1, 0, 998)
  }

  hitbox
  {
    name = Day Reset
    position = 155.28, 341.69
    size = 96, 64
    onClick = fc.SetPersistent("Global_KACDays", 0)
  }

  hitbox
  {
    name = Day Minus
    position = 155.28, 405.69
    size = 96, 64
    onClick = fc.AddPersistentWrapped("Global_KACDays", -1, 0, 998)
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT_HIGHLIGHT
    style = Normal
    text = <=0:000=> $&$ fc.GetPersistentAsNumber("Global_KACDays")
    position = 9.705, 10.6778125
    fontSize = 32, 64
  }
  //10.1875
  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT
    style = Normal
    text = :
    position = 16.955, 10.6778125
    fontSize = 32, 64
  }

  hitbox
  {
    name = Hour Plus
    position = 318.28, 277.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACHours", 1, 0, 5)
  }

  hitbox
  {
    name = Hour Reset
    position = 318.28, 341.69
    size = 64, 64
    onClick = fc.SetPersistent("Global_KACHours", 0)
  }

  hitbox
  {
    name = Hour Minus
    position = 318.28, 405.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACHours", -1, 0, 5)
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT_HIGHLIGHT
    style = Normal
    text = <=0:00=> $&$ fc.GetPersistentAsNumber("Global_KACHours")
    position = 19.8925, 10.6778125
    fontSize = 32, 64
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT
    style = Normal
    text = :
    position = 25.0175, 10.6778125
    fontSize = 32, 64
  }

  hitbox
  {
    name = Minute Plus
    position = 445.28, 277.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACMinutes", 1, 0, 59)
  }

  hitbox
  {
    name = Minutes Reset
    position = 445.28, 341.69
    size = 64, 64
    onClick = fc.SetPersistent("Global_KACMinutes", 0)
  }

  hitbox
  {
    name = Minutes Minus
    position = 445.28, 405.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACMinutes", -1, 0, 59)
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT_HIGHLIGHT
    style = Normal
    text = <=0:00=> $&$ fc.GetPersistentAsNumber("Global_KACMinutes")
    position = 27.83, 10.6778125
    fontSize = 32, 64
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT
    style = Normal
    text = :
    position = 33.08, 10.6778125
    fontSize = 32, 64
  }

  hitbox
  {
    name = Second Plus
    position = 575.28, 277.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACSeconds", 1, 0, 59)
  }

  hitbox
  {
    name = Second Reset
    position = 575.28, 341.69
    size = 64, 64
    onClick = fc.SetPersistent("Global_KACSeconds", 0)
  }

  hitbox
  {
    name = Second Minus
    position = 575.28, 405.69
    size = 64, 64
    onClick = fc.AddPersistentWrapped("Global_KACSeconds", -1, 0, 59)
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT_HIGHLIGHT
    style = Normal
    text = <=0:00=> $&$ fc.GetPersistentAsNumber("Global_KACSeconds")
    position = 35.953125, 10.6778125
    fontSize = 32, 64
  }

  hitbox
  {
    name = Add Alarm
    position = 244.18, 742.39
    size = 320, 64
    onClick = BCS_KACAddAlarm()
  }

  TEXT
  {
    name = Alarm Time
    textColor = COLOR_MFD2_TEXT
    style = Bold
    text = Add alarm
    position = 15.26125, 23.1996875
    fontSize = 32, 64
  }

  hitbox
  {
    name = Delete Alarm
    position = 210.33, 932.39
    size = 320, 64
    onClick = BCS_KACDeleteAlarm()
  }

  TEXT
  {
    name = Delete Time
    textColor = COLOR_MFD2_TEXT
    style = Bold
    text = Delete alarm
    position = 13.145625, 29.1371875
    fontSize = 32, 64
  }

  hitbox
  {
    name = Alarm Left
    position = 200, 996.39
    size = 200, 64
    onClick = fc.AddPersistentWrapped("Global_KACSelectedAlarm", -1, 0, 10)
  }

  hitbox
  {
    name = Alarm Right
    position = 400, 996.39
    size = 200, 64
    onClick = fc.AddPersistentWrapped("Global_KACSelectedAlarm", 1, 0, 10)
  }

  TEXT
  {
    name = Delete Time
    textColor = COLOR_MFD2_TEXT_HIGHLIGHT
    style = Bold
    text = [#<=0=>]<=1=> $&$ fc.Select(BCS_KACCheckAlarm(), "ffff9b", "80801b"); fc.GetPersistentAsNumber("Global_KACSelectedAlarm")
    position = 24, 31.1371875
    fontSize = 32, 64
  }

  hitbox
  {
    name = Cancel Warp
    position = 144, 1124.39
    size = 512, 64
    onClick = fc.TogglePersistent("Global_KACCancelWarp")
  }

  POLYGON
  {
    name = BG
    position = 144, 1124.39
    color = 0, 255, 0, 40

    vertex = 0, 0
    vertex = 0, 64
    vertex = 512, 64
    vertex = 512, 0

    variable = fc.GetPersistentAsNumber("Global_KACCancelWarp")
  }

  TEXT
  {
    name = Cancel Warp
    textColor = COLOR_MFD2_TEXT
    style = Bold
    text = Auto cancel warp
    position = 9, 35.1371875
    fontSize = 32, 64
  }
}